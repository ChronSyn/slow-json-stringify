!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):r.slowJsonStringify=n()}(this,function(){var r=function(n,e){for(var t in n){if(t===e)return[t];if(n[t]&&"object"==typeof n[t]){var u=r(n[t],e);if(u)return u.unshift(t),u}}};return function(n){var e=function(n){var e={},t=new Map,u="",a=JSON.stringify(n,function(a,i){var o=Array.isArray(i);return("object"!=typeof i||o)&&(o&&t.set(a,i[0]),e[a]=r(n,a),u+='"'+a+'"|'),i});return{map:e,arrais:t,props:u,str:a}}(n),t=e.map,u=e.arrais,a=function(r,n){var e=[],t=r.replace(n,function(r){switch(r){case'"string"':return'"__par__"';case'"number"':case'"boolean"':case'["array-simple"]':case"[null]":return"__par__";default:var n=r.match(/(?<=\").+?(?=\")/)[0];return e.push(n),r}}).split("__par__");return{queue:e,chunks:t}}(e.str,new RegExp(e.props+'"(string|number|boolean)"|\\[(.*?)\\]',"gm")),i=a.queue,o=a.chunks,f=o[o.length-1];return function(r){var n="";return i.forEach(function(e,a){var i=function(r,n){return t[e].reduce(function(r,n){return r&&r[n]},r)}(r),f=u.has(e)?function(r,n){if("array-simple"===n)return JSON.stringify(r);for(var e="",t=0,u=r;t<u.length;t+=1)e+=n(u[t])+",";return"["+e.substr(0,e.length-1)+"]"}(i,u.get(e)):i;n+=o[a]+f}),n+f}}});
//# sourceMappingURL=sjs.umd.js.map
