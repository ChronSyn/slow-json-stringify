var r=function(e,n){for(var t in e){if(t===n)return[t];if(e[t]&&"object"==typeof e[t]){var a=r(e[t],n);if(a)return a.unshift(t),a}}};exports.sjs=function(e){var n=function(e){var n={},t=new Map,a="",u=JSON.stringify(e,function(u,i){var o=Array.isArray(i);return("object"!=typeof i||o)&&(o&&t.set(u,i[0]),function(r){var e=new Set(["number","string","boolean","undefined","array-simple","function"]);if(Array.isArray(r)){if(e.has(r[0])||e.has(typeof r[0]))return;throw new Error('Expected either "array-simple" or a function. received '+r)}if("function"!=typeof r&&!e.has(r))throw new Error('Expected one of: "number", "string", "boolean", "undefined". received '+r)}(i),n[u]=r(e,u),a+='"'+u+'"|'),i});return{map:n,arrais:t,props:a,str:u}}(e),t=n.map,a=n.arrais,u=function(r,e){var n=[],t=r.replace(e,function(r){switch(r){case'"string"':case'"undefined"':return'"__par__"';case'"number"':case'"boolean"':case'["array-simple"]':case"[null]":return"__par__";default:var e=r.match(/(?<=\").+?(?=\")/)[0];return n.push(e),r}}).split("__par__");return{queue:n,chunks:t}}(n.str,new RegExp(n.props+'"(string|number|boolean|undef)"|\\[(.*?)\\]',"gm")),i=u.queue,o=u.chunks,s=o[o.length-1];return function(r){var e="";return i.forEach(function(n,u){var i=function(r,e){return t[n].reduce(function(r,e){return r&&r[e]},r)}(r),s=a.has(n)?function(r,e){if("array-simple"===e)return JSON.stringify(r);for(var n="",t=0,a=r;t<a.length;t+=1)n+=e(a[t])+",";return"["+n.substr(0,n.length-1)+"]"}(i,a.get(n)):i;e+=o[u]+s}),e+s}},exports.escape=function(r){var e=r||new RegExp('\\n|\\r|\\t|\\"|\\\\',"gm");return function(r){return r.replace(e,function(r){return"\\"+r})}};
//# sourceMappingURL=sjs.js.map
