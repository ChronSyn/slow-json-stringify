var r=function(n,e){for(var t in n){if(t===e)return[t];if(n[t]&&"object"==typeof n[t]){var u=r(n[t],e);if(u)return u.unshift(t),u}}},n=function(r,n){return n.reduce(function(r,n){return r&&r[n]},r)},e=function(r,n){if("array-simple"===n)return JSON.stringify(r);for(var e="",t=0,u=r;t<u.length;t+=1)e+=n(u[t])+",";return"["+e.substr(0,e.length-1)+"]"};exports.sjs=function(t){var u=function(n){var e={},t=new Map,u="",a=JSON.stringify(n,function(a,i){var o=Array.isArray(i);return("object"!=typeof i||o)&&(o&&t.set(a,i[0]),function(r){var n=new Set(["number","string","boolean","undefined","array-simple","function"]);if(Array.isArray(r)){if(n.has(r[0])||n.has(typeof r[0]))return;throw new Error('Expected either "array-simple" or a function. received '+r)}if("function"!=typeof r&&!n.has(r))throw new Error('Expected one of: "number", "string", "boolean", "undefined". received '+r)}(i),e[a]=r(n,a),u+='"'+a+'"|'),i});return{map:e,arrais:t,props:u,str:a}}(t),a=u.map,i=u.arrais,o=function(r,n){var e=[],t=r.replace(n,function(r){switch(r){case'"string"':case'"undefined"':return'"__par__"';case'"number"':case'"boolean"':case'["array-simple"]':case"[null]":return"__par__";default:var n=r.match(/(?<=\").+?(?=\")/)[0];return e.push(n),r}}).split("__par__");return{queue:e,chunks:t}}(u.str,new RegExp(u.props+'"(string|number|boolean|undef)"|\\[(.*?)\\]',"gm")),f=o.queue,s=o.chunks,c=s[s.length-1],p=function(r){return function(n,e){if(void 0!==n)return n;var t=r[e];return 34===t.charCodeAt(t.length-1)?n:'"'+n+'"'}}(s),h=f.length;return function(r){for(var t="",u=0;u!==h;){var o=f[u],l=n(r,a[o]),v=i.has(o)?e(l,i.get(o)):l;t+=s[u]+p(v,u),u+=1}return t+c}},exports.escape=function(r){var n=r||new RegExp('\\n|\\r|\\t|\\"|\\\\',"gm");return function(r){return r.replace(n,function(r){return"\\"+r})}};
//# sourceMappingURL=sjs.js.map
