var r=function(n,e){for(var t in n){if(t===e)return[t];if(n[t]&&"object"==typeof n[t]){var u=r(n[t],e);if(u)return u.unshift(t),u}}},n=function(r){var n=r||new RegExp('\\n|\\r|\\t|\\"|\\\\',"gm");return function(r){return r.replace(n,function(r){return"\\"+r})}},e=function(n){var e=function(n){var e={},t=new Map,u="",a=JSON.stringify(n,function(a,i){var o=Array.isArray(i);return("object"!=typeof i||o)&&(o&&t.set(a,i[0]),function(r){var n=new Set(["number","string","boolean","undefined","array-simple","function"]);if(Array.isArray(r)){if(n.has(r[0])||n.has(typeof r[0]))return;throw new Error('Expected either "array-simple" or a function. received '+r)}if("function"!=typeof r&&!n.has(r))throw new Error('Expected one of: "number", "string", "boolean", "undefined". received '+r)}(i),e[a]=r(n,a),u+='"'+a+'"|'),i});return{map:e,arrais:t,props:u,str:a}}(n),t=e.map,u=e.arrais,a=function(r,n){var e=[],t=r.replace(n,function(r){switch(r){case'"string"':case'"undefined"':return'"__par__"';case'"number"':case'"boolean"':case'["array-simple"]':case"[null]":return"__par__";default:var n=r.match(/(?<=\").+?(?=\")/)[0];return e.push(n),r}}).split("__par__");return{queue:e,chunks:t}}(e.str,new RegExp(e.props+'"(string|number|boolean|undef)"|\\[(.*?)\\]',"gm")),i=a.queue,o=a.chunks,f=o[o.length-1];return function(r){var n="";return i.forEach(function(e,a){var i=function(r,n){return t[e].reduce(function(r,n){return r&&r[n]},r)}(r),f=u.has(e)?function(r,n){if("array-simple"===n)return JSON.stringify(r);for(var e="",t=0,u=r;t<u.length;t+=1)e+=n(u[t])+",";return"["+e.substr(0,e.length-1)+"]"}(i,u.get(e)):i;n+=o[a]+function(){if(void 0!==f)return f;var r=o[a];return 34===r.charCodeAt(r.length-1)?f:'"'+f+'"'}()}),n+f}};export{e as sjs,n as escape};
//# sourceMappingURL=sjs.mjs.map
